<div class="w-full max-w-full modal-content-wrapper">
  <h2 class="text-2xl text-main font-medium">{{ isEditMode ? 'Modification du collecteur' : 'Ajout de collecteur' }}</h2>
  <p>{{ isEditMode ? 'Modifiez les informations du collecteur' : 'Saisissez les informations du collecteur' }}</p>
  
  @if (error) {
    <div class="mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded">
      {{ error }}
    </div>
  }
  
  <form class="w-full grid gap-4 mt-8" (ngSubmit)="onSubmit($event)" #collecteurForm="ngForm">
    <!-- Nom -->
    <div>
      <label for="nom" class="block text-sm/6 font-medium text-gray-900">
        Nom <sup class="text-red-500">*</sup>
      </label>
      <div class="mt-2">
        <input 
          type="text" 
          name="nom" 
          id="nom" 
          [(ngModel)]="formData.nom"
          required
          class="block w-full rounded-lg px-3 py-3 bg-background text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-main sm:text-sm/6" 
          placeholder="Nom du collecteur"
        >
      </div>
    </div>

    <!-- Prénom -->
    <div>
      <label for="prenom" class="block text-sm/6 font-medium text-gray-900">
        Prénom <sup class="text-red-500">*</sup>
      </label>
      <div class="mt-2">
        <input 
          type="text" 
          name="prenom" 
          id="prenom" 
          [(ngModel)]="formData.prenom"
          required
          class="block w-full rounded-lg px-3 py-3 bg-background text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-main sm:text-sm/6" 
          placeholder="Prénom du collecteur"
        >
      </div>
    </div>

    <!-- Email -->
    <div>
      <label for="email" class="block text-sm/6 font-medium text-gray-900">
        Email <sup class="text-red-500">*</sup>
      </label>
      <div class="mt-2">
        <input 
          type="email" 
          name="email" 
          id="email"
          [(ngModel)]="formData.email"
          required
          class="block w-full rounded-lg px-3 py-3 bg-background text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-main sm:text-sm/6" 
          placeholder="exemple@email.com"
        >
      </div>
    </div>

    <!-- Téléphone -->
    <div>
      <label for="telephone" class="block text-sm/6 font-medium text-gray-900">
        Téléphone <sup class="text-red-500">*</sup>
      </label>
      <div class="mt-2">
        <input 
          type="tel" 
          name="telephone" 
          id="telephone"
          [(ngModel)]="formData.telephone"
          required
          class="block w-full rounded-lg px-3 py-3 bg-background text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-main sm:text-sm/6" 
          placeholder="+241 066 00 00 00"
        >
      </div>
    </div>

    <!-- Matricule -->
    <div>
      <label for="matricule" class="block text-sm/6 font-medium text-gray-900">
        Matricule <sup class="text-red-500">*</sup>
      </label>
      <div class="mt-2">
        <input 
          type="text" 
          name="matricule" 
          id="matricule"
          [(ngModel)]="formData.matricule"
          required
          class="block w-full rounded-lg px-3 py-3 bg-background text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-main sm:text-sm/6" 
          placeholder="Ex: COL001"
        >
      </div>
    </div>

    <!-- Zone (optionnel) -->
    <div>
      <label for="zone_id" class="block text-sm/6 font-medium text-gray-900">
        Zone
      </label>
      <div class="mt-2">
        <select 
          name="zone_id" 
          id="zone_id"
          [(ngModel)]="formData.zone_id"
          class="block w-full rounded-lg px-3 py-3 bg-background text-base text-gray-900 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-main sm:text-sm/6"
        >
          <option [ngValue]="undefined">@if (loadingZones) { Chargement des zones... } @else { Aucune zone (optionnel) }</option>
          @for (zone of zones; track zone.id) {
            <option [ngValue]="zone.id">{{ zone.nom || zone.code || 'Zone ' + zone.id }}</option>
          }
          @empty {
            @if (!loadingZones) {
              <option disabled>Aucune zone disponible</option>
            }
          }
        </select>
        <p class="mt-1 text-xs text-gray-500">
          Zone assignée au collecteur (optionnel)
        </p>
      </div>
    </div>

    <!-- Heure de clôture (optionnel) -->
    <div>
      <label for="heure_cloture" class="block text-sm/6 font-medium text-gray-900">
        Heure de clôture
      </label>
      <div class="mt-2">
        <input 
          type="time" 
          name="heure_cloture" 
          id="heure_cloture"
          [(ngModel)]="formData.heure_cloture"
          class="block w-full rounded-lg px-3 py-3 bg-background text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-main sm:text-sm/6"
        >
        <p class="mt-1 text-xs text-gray-500">
          Heure de clôture quotidienne (optionnel)
        </p>
      </div>
    </div>

    <!-- Boutons -->
    <div class="grid grid-cols-2 gap-3 mt-5">
      <button 
        type="button"
        (click)="resetForm()"
        class="rounded-lg py-2 border-main border-2 text-main font-medium hover:bg-main/10"
      >
        Annuler
      </button>
      <button 
        type="submit"
        [disabled]="loading"
        class="rounded-lg py-2 bg-main text-white font-medium hover:bg-main/90 disabled:opacity-50 disabled:cursor-not-allowed"
      >
        @if (loading) {
          <span>Enregistrement...</span>
        } @else {
          <span>{{ isEditMode ? 'Modifier' : 'Enregistrer' }}</span>
        }
      </button>
    </div>
  </form>
</div>

